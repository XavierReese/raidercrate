(this.webpackJsonpdsh=this.webpackJsonpdsh||[]).push([[0],{18:function(e,t,n){"use strict";n.r(t),n.d(t,"app",(function(){return c})),n.d(t,"update",(function(){return u})),n.d(t,"initUser",(function(){return p})),n.d(t,"readProgress",(function(){return l})),n.d(t,"ui",(function(){return h}));var s=n(13),o=n.n(s),r=n(17),i=n(19),a=n(49),c=i.initializeApp({apiKey:"AIzaSyBsSNPOf7cXexx51xoJwlIL69jjKoOAhuQ",authDomain:"raidercratedshapp2.firebaseapp.com",databaseURL:"https://raidercratedshapp2.firebaseio.com",projectId:"raidercratedshapp2",storageBucket:"raidercratedshapp2.appspot.com",messagingSenderId:"324830394798",appId:"1:324830394798:web:40b55be6f8f788955ab03f"});function u(e,t){c.database().ref(e).update(t)}function p(e){console.log("initUser"),c.database().ref(e).set({sections:[[{open:!0,done:!1},{open:!0,done:!1}],[{open:!1,done:!1},{open:!0,done:!1},{open:!1,done:!1}],[{open:!1,done:!1},{open:!0,done:!1},{open:!1,done:!1},{open:!1,done:!1},{open:!1,done:!1}],[{open:!1,done:!1},{open:!0,done:!1},{open:!1,done:!1},{open:!1,done:!1}],[{open:!1,done:!1},{open:!0,done:!1},{open:!1,done:!1}],[{open:!1,done:!1},{open:!0,done:!1}]]})}function l(e){return d.apply(this,arguments)}function d(){return(d=Object(r.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.database().ref("/"+t).once("value");case 2:return n=e.sent,e.abrupt("return",n.val());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=new a.auth.AuthUI(i.auth())},24:function(e,t,n){e.exports=n.p+"static/media/logo.44ea7f76.png"},26:function(e,t,n){e.exports=n(60)},31:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},57:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var s=n(2),o=n.n(s),r=n(23),i=n.n(r),a=(n(31),n(13)),c=n.n(a),u=n(17),p=n(5),l=n(6),d=n(4),h=n(8),f=n(7),g=(n(33),n(34),function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.sectionInfo;return e.done&&" completeTask","string"===typeof e.order&&" string",this.props.isCurrentSection&&" current",o.a.createElement("p",{className:"sectionNum"},e.order)}}]),n}(o.a.Component)),m=n(24),v=n.n(m),b=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"handleClick",value:function(e){console.log(e),this.props.sections[e].open&&this.props.updateSection(e)}},{key:"renderNavBar",value:function(){for(var e=this,t=this.props.sections,n=[],s=function(s){var r="navSection";0===s?r+=" intro":1===s&&(r+=" second"),s===t.length-2?r+=" secondToLast":s===t.length-1&&(r+=" ending"),t[s].done?r+=" done":t[s].open?r+=" open":r+=" closed",t[t.length-1].open&&(r+=" allDone"),n.push(o.a.createElement("li",{className:r,key:s,onClick:function(){return e.handleClick(s)}},o.a.createElement(g,{sectionInfo:t[s],updateSection:function(){return e.props.updateSection(s)},isCurrentSection:s===e.props.currentSection})))},r=0;r<t.length;r++)s(r);return n}},{key:"render",value:function(){return o.a.createElement("div",{className:"header"},o.a.createElement("img",{src:v.a,alt:"Raider Crate Logo"}),o.a.createElement("nav",null,o.a.createElement("ul",null,this.renderNavBar())))}}]),n}(o.a.Component),k=(n(35),function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).onChange=s.onChange.bind(Object(d.a)(s)),s}return Object(l.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;console.log("here"),this.props.changeCurrent(t),t.toUpperCase()===this.props.task.info.answer.toUpperCase()&&(this.props.task.done||this.props.onComplete())}},{key:"render",value:function(){var e="qnadiv";return this.props.task.done&&(e+=" completeQnAdiv"),o.a.createElement("div",{className:e},o.a.createElement("h1",null,"Question "+this.props.task.order),o.a.createElement("p",{className:"question"},this.props.task.info.question),o.a.createElement("input",{placeholder:"Enter Your Answer Here",className:"answer",onChange:this.onChange,value:this.props.task.current}))}}]),n}(o.a.Component)),y=(n(36),function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).handleClick=s.handleClick.bind(Object(d.a)(s)),s}return Object(l.a)(n,[{key:"handleClick",value:function(){this.props.onComplete()}},{key:"render",value:function(){var e=this.props.page.info,t="Congratulations!"===e.title?"congrats":void 0,n=e.subtitle?o.a.createElement("h2",{className:"subtitle"},e.subtitle):void 0,s=e.button?o.a.createElement("button",{className:"button",onClick:this.handleClick},e.button):void 0;return o.a.createElement("div",{className:"page"},o.a.createElement("h1",{className:t},e.title),n,o.a.createElement("p",null,e.para),s)}}]),n}(o.a.Component)),S=(n(37),function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"renderCurrentTask",value:function(){var e=this,t=this.props.currentTask,n=this.props.tasks[t],s=n.type;return"qa"===s?o.a.createElement(k,{className:"QnA",task:n,onComplete:function(){return e.props.onComplete(e.props.currentSection,t)},changeCurrent:function(n){return e.props.changeCurrent(e.props.currentSection,t,n)}}):"p"===s?o.a.createElement(y,{className:"written",page:n,onComplete:function(){e.props.onComplete(e.props.currentSection,t)}}):void 0}},{key:"render",value:function(){return o.a.createElement("div",{className:"TaskDiv"},o.a.createElement("div",{className:"colorSaver"}),this.renderCurrentTask())}}]),n}(o.a.Component)),C=(n(38),function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"handleClick",value:function(e,t){t&&this.props.updateTask(e)}},{key:"renderBreadcrumbs",value:function(){for(var e=this,t=this.props.section.tasks,n=[],s=function(s){var r="bc";s===e.props.currentTask&&(r+=" current"),t[s].open?r+=" open":r+=" closed",n.push(o.a.createElement("li",{key:s,className:r,onClick:function(){return e.handleClick(s,t[s].open)}},t[s].order))},r=0;r<t.length;r++)s(r);return n}},{key:"render",value:function(){return o.a.createElement("ul",{className:"breadcrumbs"},this.renderBreadcrumbs())}}]),n}(o.a.Component)),O=(n(39),n(18)),T=n(19),E=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).state={shown:!0},s.componentDidMount=s.componentDidMount.bind(Object(d.a)(s)),s.stopShowing=s.stopShowing.bind(Object(d.a)(s)),s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.regainProgress,t=this.props.initUser,n=this.stopShowing,s={callbacks:{signInSuccessWithAuthResult:function(s,o){var r=s.additionalUserInfo.isNewUser,i=s.user.uid;return r?t(i):e(i),n(),!1}},signInFlow:"popup",signInOptions:[T.auth.PhoneAuthProvider.PROVIDER_ID]};O.ui.start("#firebaseui-auth-container",s)}},{key:"stopShowing",value:function(){this.setState({shown:!1})}},{key:"render",value:function(){var e="";return this.state.shown||(e+=" hide"),o.a.createElement("div",{className:"surrounding"+e},o.a.createElement("div",{className:"signIn"+e},o.a.createElement("p",{className:"signInP"+e},"Sign in to regain progress or save your progress from the start"),o.a.createElement("div",{id:"firebaseui-auth-container"})))}}]),n}(o.a.Component),j=(n(57),n(18)),w=n(19),N=function(e){Object(h.a)(s,e);var t=Object(f.a)(s);function s(e){var n;return Object(p.a)(this,s),(n=t.call(this,e)).state={sections:[{order:"INTRO",open:!0,done:!1,furthestOpen:0,tasks:[{order:"INSTRUCTIONS",type:"p",info:{title:"INSTRUCTIONS",subtitle:"Read Carefully!",para:"Each of the four (which could be more or less easily) sections can be done independently, although within the sections there is an order. instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions",button:"I'm Ready!"},open:!0,done:!1}]},{order:1,open:!1,done:!1,furthestOpen:0,tasks:[{order:1,type:"p",info:{title:"Instructions for Section 1",subtitle:"Read Carefully!",para:"This could be full of riddles that are done at home. instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions",button:"Let's Go!"},open:!0,done:!1},{order:2,type:"qa",info:{question:"Testing testing testing testing testing testing testing testing testing",answer:"TESTING"},current:"",open:!1,done:!1}]},{order:2,open:!1,done:!1,furthestOpen:0,tasks:[{order:1,type:"p",info:{title:"Instructions for Section 2",subtitle:"Read Carefully!",para:"This could lead players from business to business in a walkable distance, with clues from structures, history facts, and hidden gems along the way. instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions",button:"I'm Ready!"},open:!0,done:!1},{order:2,type:"qa",info:{question:"Testing testing testing testing testing testing testing testing testing",answer:"TESTING"},current:"",open:!1,done:!1},{order:3,type:"qa",info:{question:"Testing",answer:"TESTING"},current:"",open:!1,done:!1},{order:4,type:"qa",info:{question:"Testing",answer:"TESTING"},current:"",open:!1,done:!1}]},{order:3,open:!1,done:!1,furthestOpen:0,tasks:[{order:1,type:"p",info:{title:"Instructions for Section 3",subtitle:"Read Carefully!",para:"This could mirror section 2, but in a different area. instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions",button:"I'm Ready!"},open:!0,done:!1},{order:2,type:"qa",info:{question:"Testing testing testing testing testing testing testing testing testing",answer:"TESTING"},current:"",open:!1,done:!1},{order:3,type:"qa",info:{question:"Testing",answer:"TESTING"},current:"",open:!1,done:!1}]},{order:4,open:!1,done:!1,furthestOpen:0,tasks:[{order:1,type:"p",info:{title:"Instructions for Section 4",subtitle:"Read Carefully!",para:"This could mirror section 2, but in a different area. Remember this whole time they can be taking photos for instagram.  instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions",button:"I'm Ready!"},open:!0,done:!1},{order:2,type:"qa",info:{question:"Testing",answer:"TESTING"},current:"",open:!1,done:!1}]},{order:"END",open:!1,done:!1,furthestOpen:0,tasks:[{order:"END",type:"p",info:{title:"Congratulations!",subtitle:"You finished the hunt!",para:"Now the players can submit photos of their instagram story to a google form to be entered for a prize, whatever that may be. instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions instructions"},open:!0,done:!1}]}],currentSection:0,currentTask:0,currentSave:{sections:[[{open:!0,done:!1},{open:!0,done:!1}],[{open:!1,done:!1},{open:!0,done:!1},{open:!1,done:!1}],[{open:!1,done:!1},{open:!0,done:!1},{open:!1,done:!1},{open:!1,done:!1},{open:!1,done:!1}],[{open:!1,done:!1},{open:!0,done:!1},{open:!1,done:!1},{open:!1,done:!1}],[{open:!1,done:!1},{open:!0,done:!1},{open:!1,done:!1}],[{open:!1,done:!1},{open:!0,done:!1}]]}},n.setSection=n.setSection.bind(Object(d.a)(n)),n.setTask=n.setTask.bind(Object(d.a)(n)),n.editCurrent=n.editCurrent.bind(Object(d.a)(n)),n.completeTask=n.completeTask.bind(Object(d.a)(n)),n.checkSectionCompleteness=n.checkSectionCompleteness.bind(Object(d.a)(n)),n.saveProgress=n.saveProgress.bind(Object(d.a)(n)),n.regainProgress=n.regainProgress.bind(Object(d.a)(n)),n}return Object(l.a)(s,[{key:"saveProgress",value:function(e){for(var t=this.state.sections,s=this.state.currentSave,o={},r=0;r<e.length;r++){console.log("COMPLETE: ",n(16).inspect(e[r],{depth:null}));var i=s.sections[e[r][0]][e[r][1]+1],a=void 0;a=-1===e[r][1]?t[e[r][0]]:t[e[r][0]].tasks[e[r][1]],i.open=a.open,i.done=a.done,a.current&&(i.current=a.current),o["/sections/"+e[r][0]+"/"+(e[r][1]+1)+"/"]=i,s.sections[e[r][0]][e[r][1]+1]=i}this.setState({currentSave:s}),console.log(n(16).inspect(s,{depth:null}));var c=w.auth().currentUser.uid;console.log(c),j.update(c,o)}},{key:"regainProgress",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var s,o,r,i,a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.readProgress(t);case 2:for(s=e.sent,console.log(n(16).inspect(s,{depth:null})),o=this.state.sections,r=0;r<o.length;r++){for(i=s.sections[r],o[r].open=i[0].open,o[r].done=i[0].done,a=o[r].tasks,u=1;u<=a.length;u++)a[u-1].open=i[u].open,a[u-1].done=i[u].done,i[u].current&&(a[u-1].current=i[u].current);o[r].tasks=a}this.setState({sections:o});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"completeTask",value:function(e,t){var n=this.state.sections,s=n[e].tasks,o=[[e,t]];s[t].done=!0,s.length!==t+1&&(s[t+1].open=!0,n[e].furthestOpen=t+1,console.log("saving"+e," ",t+1),o.push([e,t+1])),n[e].tasks=s,this.setState({sections:n},this.checkSectionCompleteness(e)),this.saveProgress(o)}},{key:"checkSectionCompleteness",value:function(e){var t=this.state.sections,s=t[e],o=!0;if(s.tasks.forEach((function(e){e.done||(o=!1)})),o){if(s.done=!0,t[e]=s,this.saveProgress([[e,-1]]),0===e)for(var r=1;r<t.length-1;r++)console.log(t.length+" "+r),console.log(n(16).inspect(t[r],{depth:null})),t[r].open=!0,this.saveProgress([[r,-1]]);this.setState({sections:t}),this.checkAllComplete()}}},{key:"checkAllComplete",value:function(){for(var e=this.state.sections,t=0;t<e.length-1;t++)if(!e[t].done)return;e[e.length-1].open=!0,this.setState({sections:e})}},{key:"editCurrent",value:function(e,t,n){var s=this.state.sections,o=s[e].tasks;o[t].current=n,s[e].tasks=o,this.setState({sections:s})}},{key:"setSection",value:function(e){var t=this.state.sections[e]?this.state.sections[e]:this.state.ending,n=t.furthestOpen?t.furthestOpen:0;t.open&&this.setState({currentSection:e,currentTask:n})}},{key:"setTask",value:function(e){this.setState({currentTask:e})}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(E,{regainProgress:this.regainProgress,initUser:j.initUser}),o.a.createElement(b,{sections:this.state.sections,currentSection:this.state.currentSection,updateSection:this.setSection}),o.a.createElement("div",{className:"notNav"},o.a.createElement(C,{currentTask:this.state.currentTask,section:this.state.sections[this.state.currentSection],updateTask:this.setTask})),o.a.createElement(S,{currentSection:this.state.currentSection,currentTask:this.state.currentTask,tasks:this.state.sections[this.state.currentSection].tasks,onComplete:this.completeTask,changeCurrent:this.editCurrent}))}}]),s}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=n(18);i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(N,null),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}));I.app.database().ref("newMessages").orderByKey().limitToLast(100)}},[[26,1,2]]]);
//# sourceMappingURL=main.0ee84308.chunk.js.map